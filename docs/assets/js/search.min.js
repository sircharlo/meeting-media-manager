const search=document.getElementById("search"),categories=document.querySelectorAll("#sidebar > ul > li");function clearHighlights(){document.querySelectorAll("span.highlight").forEach((e=>{const t=e.parentNode;t&&(t.replaceChild(document.createTextNode(e.textContent),e),t.textContent=t.textContent.replaceAll("\\n",""))}))}function showLinks(){categories.forEach((e=>{e.style.display="list-item";e.querySelectorAll("ul > li").forEach((e=>{e.style.display="list-item"}))}))}search.onkeyup=()=>{if(clearHighlights(),search.value.length<3)return void showLinks();const e=new RegExp("[^<\"';`/=](\\b"+search.value+"\\b)[^>/;`\"'=]","gim");categories.forEach((t=>{const l=t.querySelectorAll("ul > li");l.forEach((t=>{const l=t.querySelector("a").getAttribute("href"),n=l.substring(l.indexOf("#")+1),s=[...document.getElementById(n).closest("article").querySelector(".body").querySelectorAll("*").values()].filter((t=>!!t.childNodes[0]&&e.test(t.childNodes[0].nodeValue)));t.style.display=s.length>0?"list-item":"none",s.forEach((t=>{t.childNodes[0]&&t.childNodes.forEach((l=>{if("#text"===!l.nodeName)return;let n=null;for(;null!==(n=e.exec(l.nodeValue));){const e=n[0];t.innerHTML=t.innerHTML.replaceAll(e,`${e[0]}<span class="highlight">${e.substring(1,e.length-1)}</span>${e[e.length-1]}`)}}))}))}));const n=[...l.values()].filter((e=>"list-item"===e.style.display));t.style.display=n.length>0?"list-item":"none"}))};
